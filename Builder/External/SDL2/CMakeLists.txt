if(XM8_STATIC_SDL2)
  set(BUILD_SHARED_LIBS OFF)
  set(SDL_SHARED OFF)
  set(SDL_STATIC ON)
  # if(PIE)
  #   set(SDL_STATIC_PIC ON)
  # endif()
else()
  set(BUILD_SHARED_LIBS ON)
  set(SDL_SHARED ON)
  set(SDL_STATIC OFF)
endif()
set(SDL_TEST_ENABLED_BY_DEFAULT OFF)

include(functions/FetchContent_MakeAvailableExcludeFromAll)
include(FetchContent)
FetchContent_Declare(SDL2
    GIT_REPOSITORY https://github.com/libsdl-org/SDL.git
    GIT_TAG release-2.26.4
)

# FetchContent_Declare(SDL2
#     URL https://github.com/libsdl-org/SDL/archive/8b39eb9b1ff885978816dd9663277608187e8676.tar.gz
#     URL_HASH MD5=3cf9bf5f20375aa5dcc529193c809967
# )

set(CMAKE_OSX_DEPLOYMENT_TARGET 10.9 CACHE STRING "Minimum OS X deployment version")
FetchContent_MakeAvailableExcludeFromAll(SDL2)